<!-- version_dropdown.html -->
{% if READTHEDOCS or theme_versions %}
  {% if READTHEDOCS %}
    <li class="nav-item dropdown">
      <a class="nav-link d-flex py-2 px-0 px-xl-2 dropdown-toggle align-items-center" id="snftt-version" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Select version">
        <span id="snftt-version-text" class="d-xl-none small">{{ project|striptags|e }}</span>
        <span class="small ms-2" data-snftt-version-active="{{ current_version }}">v: {{ current_version }}</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="snftt-version-text">
        <li>
          <h6 class="dropdown-header">Versions</h6>
        </li>
        {% for slug, url in versions %}
          <li>
            <a class="dropdown-item d-flex align-items-center justify-content-between" aria-pressed="false" href="{{ url }}" data-snftt-version-url="{{ url }}" data-snftt-version="{{ slug }}">
              <span class="small ms-2">{{ slug }}</span>
              <i class="bi bi-check ms-auto"></i>
            </a>
          </li>
        {% endfor %}
        <li><hr class="dropdown-divider"></li>
        <li>
          <h6 class="dropdown-header">On Read the Docs</h6>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center justify-content-between" aria-pressed="false" href="//{{ PRODUCTION_DOMAIN }}/projects/{{ slug }}/?fromdocs={{ slug }}"><span class="small ms-2">{{ _('Project Home') }}</span></a>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center justify-content-between" aria-pressed="false" href="//{{ PRODUCTION_DOMAIN }}/builds/{{ slug }}/?fromdocs={{ slug }}"><span class="small ms-2">{{ _('Builds') }}</span></a>
        </li>
      </ul>
    </li>
  {% elif theme_versions %}
    <li class="nav-item dropdown">
      <a class="nav-link d-flex py-2 px-0 px-xl-2 dropdown-toggle align-items-center" id="snftt-version" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Select version">
        <span id="snftt-version-text" class="d-xl-none small">{{ project|striptags|e }}</span>
        <span class="small ms-2" data-snftt-version-active="{{ theme_current_version }}">{{ theme_current_version }}</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="snftt-version-text">
        <li>
          <h6 class="dropdown-header">{{ _('Versions') }}</h6>
        </li>
        {% for version, version_url in theme_versions %}
          <li>
            <a class="dropdown-item d-flex align-items-center justify-content-between" aria-pressed="false" href="{{ version_url }}" data-snftt-version-url="{{ version_url }}" data-snftt-version="{{ version }}">
              <span class="small ms-2">{{ version }}</span>
              <i class="bi bi-check ms-auto"></i>
            </a>
          </li>
        {% endfor %}
      </ul>
    </li>
  {% endif %}

  <li class="nav-item col-12 col-xl-auto h-100" aria-hidden="true">
    <div class="vr d-none d-xl-flex h-100 mx-xl-2 text-white"></div>
    <hr class="d-xl-none text-white-50">
  </li>
{% endif %}